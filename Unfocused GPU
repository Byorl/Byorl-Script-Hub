local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local WindowFocusReleasedFunction = function()
	RunService:Set3dRenderingEnabled(false)
    setfpscap(30)
	return
end

local WindowFocusedFunction = function()
	RunService:Set3dRenderingEnabled(true)
    setfpscap(120)
	return
end

local Initialize = function()
	UserInputService.WindowFocusReleased:Connect(WindowFocusReleasedFunction)
	UserInputService.WindowFocused:Connect(WindowFocusedFunction)
	return
end

Initialize()
RunService:Set3dRenderingEnabled(false)
